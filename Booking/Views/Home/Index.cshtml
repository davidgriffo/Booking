@model Booking.Models.IndexViewModel

@{
    ViewBag.Title = "Home Page";
}

<div class="container">
        
    <form action="@Url.Action("Search", "Home")">
        <div class="row">
            <div class="col-md-6">
                <div class="input-group date searchTarget" data-provide="datepicker" data-date-format="dd/mm/yyyy">
                    <input name="startDate" type="text" class="form-control searchTarget datepicker" placeholder="Start dato" id="startDate">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                </div>
            </div>

            <div class="col-md-6">
                <div class="input-group date searchTarget" data-provide="datepicker" data-date-format="dd/mm/yyyy">
                    <input name="endDate" type="text" class="form-control searchTarget datepicker" placeholder="Slut dato" id="endDate">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                </div>
            </div>
        </div>
        
        <div class="row" id="searchInputRow">
            <div class="col-md-3">
                <div class="input-group">
                    @Html.DropDownList("department", new SelectList(Model.Departments, "Id", "Name"), "Alle afdelinger", new {@class = "form-control searchTarget textinput", id = "department"})
                    <span class="input-group-addon"><i class="glyphicon glyphicon-th-large"></i></span>
                </div>
            </div>

            <div class="col-md-3">
                <div class="input-group">
                    <input name="capacity" type="number" class="form-control searchTarget textinput" placeholder="Kapacitet" id="capacity">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                </div>
            </div>

            <div class="col-md-6">
                <div class="input-group">
                    @Html.ListBox("selectedEquipment", new MultiSelectList(Model.Equipment, "Id", "Name"), new {@class = "searchTarget multiDrop js-states form-control textinput", id = "equipment", multiple = "multiple"})
                    <span class="input-group-addon"><i class="glyphicon glyphicon-th"></i></span>
                </div>
            </div>
            

        </div>
        

        
        <script type="text/javascript">
            $(".multiDrop").select2({
                placeholder: { text: "Udstyr" }
            });
        </script>

        @*<div class="row">
            <div class="col-md-12">
                <input class="btn btn-ok" id="btnSearch" type="submit" value="Søg.." />
            </div>
        </div>*@
    </form>

    <hr/>
    
    <div class="container-content" id="test1">
        @foreach (var item in Model.Rooms)
        {
            <div class="row" id="roomRow">
                <div class="col-md-2">
                    <p><b>Lokale:</b> @item.Name</p>
                    <p><b>Afdeling:</b> @item.Department.Name</p>
                </div>
                <div class="col-md-4">
                    <p><b>Antal personer:</b> @item.Capacity</p>
                    <p><b>Beskrivelse:</b> @item.Description</p>
                </div>
                <div class="col-md-4">
                    <p><b>Udstyr:</b></p>
                    @foreach (var equipment in item.Equipment)
                {
                        <p>@equipment.Name</p>
                    }
                </div>
                <div class="col-md-2">


                    @Html.ActionLink(" ", "Index", "SelectedBooking", new { item.Id }, new { @class = "glyphicon glyphicon-calendar", id = "btnBook" })



                </div>
            </div>
        }
    </div>
</div>

<div id="tokenDiv" data-value="@HttpContext.Current.Session["token"]"></div>

@section scripts
{
    <script src="~/Scripts/liveupdate.js"></script>    
}
